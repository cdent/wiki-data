{% extends "wikidatabase.html" %}
{% block body %}
{% set operational_fields = [
('operational_po_box', 'Operational PO Box'),
('operational_floor', 'Operational Floor'),
('operational_building', 'Operational Building'),
('operational_street_1', 'Operational Street'),
('operational_street_2', 'Operational Street 2'),
('operational_street_3', 'Operational Street 3'),
('operational_city', 'Operational City'),
('operational_state', 'Operational State'),
('operational_country', 'Operational Country'),
('operational_postcode', 'Operational Postcode')
] %}
{% set registered_fields = [
('registered_po_box', 'Registered PO Box'),
('registered_floor', 'Registered Floor'),
('registered_building', 'Registered Building'),
('registered_street_1', 'Registered Street 1'),
('registered_street_2', 'Registered Street 2'),
('registered_street_3', 'Registered Street 3'),
('registered_city', 'Registered City'),
('regstered_state', 'Registered State'),
('registered_postcode', 'Registered Postcode'),
('registered_country', 'Country of Incorporation')
] %}
{% set entity_fields = [
('trading_status', 'Trading Status'),
('company_website', 'Company Website'),
('registration_number__jurisdiction_', 'Registration Number (Jurisdiction)')
] %}
{% set hierarchy_fields = [
('immediate_parent_avid', 'Immediate Parent AVID'),
('immediate_parent_name', 'Immediate Parent Name'),
('ultimate_parent_avid', 'Ultimate Parent AVID'),
('ultimate_parent_name', 'Ultimate Parent Name'),
('entity_type', 'Entity Type')
] %}
{% set captcha = commonVars.captcha %}
{% set query = commonVars.query %}
<div class="grid12col container">
	{% if query['success'] and query['success'][0] == '1' %}
	<p>Thanks! We'll be in touch shortly.</p>
	{% else %}
	<form id="recordForm" method="post" action="/verify">
		<div class="grid4col left marginright mandatory">
			<div class="pageLinks notFixed">
				<h2>Register an Entity</h2>
				<p class="nomargin">Have you <a href="/">searched</a> for the record? If so please fill in as much of the first section as you can and add your contact information.</p>
			</div>
			<div class="lightbg formSet margintop">
				<h3>Mandatory Fields</h3>
				<div>
					<label for="legal_name" class="grid3col marginright">Legal Name</label>
					<input id="legal_name" name="legal_name" class="grid3col required" type="text" />
					<a class="help">
						<span class="heading"><span class="point"></span><span class="text">Legal Name</span></span>
						<span class="helpText">help text for Legal Name</span>
					</a>
					{%- if query['formError'] and '"legal_name"' in query['formError'][0] -%}
					<label for="legal_name" generated="true" class="error">This field is required.</label>
					{%- endif -%}
				</div>
				<div>
					<label for="operational_country" class="grid3col marginright">Operational Country</label>
					<input class="grid3col required" id="operational_country" type="text" name="operational_country" />
					<a class="help">
						<span class="heading"><span class="point"></span><span class="text">Operational Country</span></span>
						<span class="helpText">help text for Operational Country</span>
					</a>
					{%- if query['formError'] and '"operational_country"' in query['formError'][0] -%}
					<label for="operational_country" generated="true" class="error">This field is required.</label>
					{%- endif -%}
				</div>
				<div>
					<label for="operational_state" class="grid3col marginright">Operational State</label>
					<input id="operational_state" name="operational_state" class="grid3col" type="text" />
					<a class="help">
						<span class="heading"><span class="point"></span><span class="text">Operational State</span></span>
						<span class="helpText">help text for Operational State</span>
					</a>
					{%- if query['formError'] and '"operational_state"' in query['formError'][0] -%}
					<label for="operational_state" generated="true" class="error">This field is required.</label>
					{%- endif -%}
				</div>
			</div>
			<div class="lightbg formSet margintop">
				<h5>Source (optional)</h5>
				<div>
					<p>What are your sources for this information? Please include URL's and/or sources used.</p>
					<textarea rows="5" name="source" class="margintopsmall"></textarea>
				</div>
			</div>
			<span id="testBorder"></span><input id="submitButton" value="Register Entity" type="submit" />
		</div>
		<div class="grid8col right pageContent companyRecord">
			<h3>Additional Fields</h3>
			<div class="grid4col left" id="toOverflow">
				<div class="borderbottom">
					<h5>Location Information</h5>
					<table class="companyRecord">
						<tbody>
						{% for field, label in operational_fields %}
							<tr>
								<td class="field"><label for="challenge_{{field}}">{{label}}</label></td>
								{% if field in ['operational_country', 'operational_state', 'registered_country', 'registered_state'] -%}
								<td class="{{field}}"><input type="text" name="challenge_{{field}}" id="challenge_{{field}}" /></td>
								{% else %}
								<td><input type="text" name="challenge_{{field}}" id="challenge_{{field}}" /></td>
								{%- endif -%}
							</tr>
						{% endfor %}
						</tbody>
					</table>
				</div>
				<div class="borderbottom equalise1">
					<h5>Hierarchy Information</h5>
					<table class="companyRecord">
						<tbody>
						{% for field, label in hierarchy_fields %}
							<tr>
								<td class="field"><label for="challenge_{{field}}">{{label}}</label></td>
								{% if field in ['operational_country', 'operational_state', 'registered_country', 'registered_state'] -%}
								<td class="{{field}}"><input type="text" name="challenge_{{field}}" id="challenge_{{field}}" /></td>
								{% else %}
								<td><input type="text" name="challenge_{{field}}" id="challenge_{{field}}" /></td>
								{%- endif -%}
							</tr>
						{% endfor %}
						</tbody>
					</table>
				</div>
				<div class="borderbottom">
					<h5>Registered Address Information</h5>
					<table class="companyRecord">
						<tbody>
						{% for field, label in operational_fields %}
							<tr>
								<td class="field"><label for="challenge_{{field}}">{{label}}</label></td>
								{% if field in ['operational_country', 'operational_state', 'registered_country', 'registered_state'] -%}
								<td class="{{field}}"><input type="text" name="challenge_{{field}}" id="challenge_{{field}}" /></td>
								{% else %}
								<td><input type="text" name="challenge_{{field}}" id="challenge_{{field}}" /></td>
								{%- endif -%}
							</tr>
						{% endfor %}
						</tbody>
					</table>
				</div>
				<div class="borderbottom equalise1">
					<h5>Entity Information</h5>
					<table class="companyRecord">
						<tbody>
						{% for field, label in entity_fields %}
							<tr>
								<td class="field"><label for="challenge_{{field}}">{{label}}</label></td>
								<td><input type="text" name="challenge_{{field}}" id="challenge_{{field}}" /></td>
							</tr>
						{% endfor %}
						</tbody>
					</table>
				</div>
				<input type="hidden" value="suggest_new" name="requestType" />
			</div>
			<div class="grid4col left marginleft" id="tableoverflow">
			</div>
		</div>
		{% include 'personal_info.html' %}
	</form>
	{% endif %}
</div>
{% endblock %}
